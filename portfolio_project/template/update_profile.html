<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">
    <link rel="stylesheet" href="{% static 'css/update_profile.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>update profile</title>
    <style>
        .Update_button1{
            cursor: pointer;
        }
        .Update_button1:hover{
            background-color: darkorange;
        }
        .Update_button1:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    {% include 'nav.html' %}
    <div class="banner_div">
        <img src="../static/images/banner.jpg" alt="" class="banner_image">
    </div>
    <div class="main_container">
        <div class="sub_container">
            <div class="details_div">
                <form action="" method="POST" class="form" enctype="multipart/form-data" onsubmit="UpdateProfile()" >
                    {% csrf_token %}
                    <h2 class="welcome_heading">Welcome Back !!!</h2>
                    <button class="back_button"><a href="/profile/{{user.id}}"><i class="fa-sharp fa-solid fa-arrow-left"></i> Back</a></button>
                    <div class="details">
                        <div class="firstname inner">
                            <label for="fname">First Name :</label><br>
                            <input type="text"  maxlength="15" class="inputs" name="first_name" value="{{user.first_name}}">
                        </div>
                        <div class="lastname inner">
                            <label for="lname">Last Name :</label><br>
                            <input type="text" maxlength="15" class="inputs" name="last_name" value="{{user.last_name}}">
                        </div>
                        <div class="Gender_div inner">
                            <label for="">Gender :</label><br>
                            <select name="gender" id="" class="inputs">
                                <option value="select" {% if update.gender == "select" %} selected {% endif %}>select</option>
                                <option value="Male" {% if update.gender == "Male" %} selected {% endif %}>Male</option>
                                <option value="Female" {% if update.gender == "Female" %} selected {% endif %}>Female</option>
                                <option value="Others" {% if update.gender == "Others" %} selected {% endif %}>Others</option>
                            </select>                               
                        </div>
                        <div class="mobile_div inner">
                            <label for="">Mobile Number :</label><br>
                            <input type="tel" maxlength="13"  class="inputs" name="mobile" value="{{update.mobile}}">
                        </div>
                        <div class="email_div inner">
                            <label for="">Email :</label><br>
                            <input type="email"   class="inputs" name="email" value="{{user.email}}"><br>
                        </div>
                        <div class="user_name inner">
                            <label for="">User name :</label><br>
                            <input type="text" maxlength="25"  class="inputs" name="username" value="{{user.username}}">
                        </div>
                        <div class="position_div inner">
                            <label for="">Position :</label><br>
                            <input type="text" maxlength="25"  class="inputs" name="position" value="{{update.position}}">
                        </div>
                        <div class="image_div inner">
                            <label for="fileInput">Update Image : </label>
                            {% if update.profile %}
                                <img src="{{update.profile.url}}" alt="" class="profile_image_view">
                            {% else %}
                                <img src="../static/images/profile.jpg" alt="" class="profile_image_view">
                            {% endif %}
                            <input type="file" required  class="inputs" name="profile" >
                        </div>
                        <div class="button_edit">
                            <button type="submit" class="Update_button1">Submit</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script>
        function UpdateProfile (){
            let button = document.querySelector('.Update_button1');
            button.textContent = 'Updating';
            button.disabled = true;
        }
    </script>
</body>
</html>